<div class="header header_main" [ngClass]="(isMainPage$ | async) ? 'header_main' : 'header_not_main'">
  <div class="header_top">
    <div class="header_logo"><a href="">ПОЗА<span class="header_logo-orange">ШКІЛЛЯ</span></a></div>
    <div class="header_btns">
      <button mat-flat-button class="header_lang">
        Україньскою
      </button>
      <div *ngIf="(isAuthorized$ | async) then isAuthorized; else isUnauthorized"></div>
    </div>
  </div>
  <div *ngIf="(isMainPage$ | async) then isMainPage;" class="header_wrapper"></div>
</div>

<ng-template #isMainPage>
  <div class="header_title">
    Знайдіть найкращі гуртки у своєму місті!
  </div>
  <div class="header_descr">
    Понад 500 найрізноманітніших гуртків
  </div>
  <div class="header_search">
    <app-city-filter class="header_city"></app-city-filter>
    <app-searchbar class="header_bar"></app-searchbar>
  </div>
</ng-template>

<ng-template #isUnauthorized>
    <button mat-stroked-button class="header_login" (click)="login()">
      УВІЙТИ/ЗАРЕЄСТРУВАТИСЯ
    </button>
</ng-template>

<ng-template #isAuthorized>
  <div class="authorization">
    <button mat-raised-button color="primary"
      matBadge="2" matBadgePosition="before" matBadgeColor="accent">
      <i>
        <mat-icon class="icon-message"> email</mat-icon>
      </i>
    </button>
      <button mat-button [matMenuTriggerFor]="log">
        <h1>{{userName$ | async}}</h1>
      </button>
      <mat-menu #log="matMenu">
        <button mat-menu-item><a [routerLink]="'./' + role +'/' + 'activities'">Гуртки</a></button>
        <button mat-menu-item><a [routerLink]="'./' + role+'/' + 'config'">Налаштування</a></button>
        <button mat-menu-item (click)="logout()">Вийти</button>
      </mat-menu>
    </div>
</ng-template>
