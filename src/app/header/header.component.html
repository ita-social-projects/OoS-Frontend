<div class="header">
  <div class="header_top">
    <div class="header_logo-wrapper">
      <h2 class="header_logo"><a routerLink="/">ПОЗАШКІЛЛЯ</a></h2>
    </div>
    <div class="header_btns">
      <button mat-flat-button class="header_lang">
        Українською
      </button>
      <div *ngIf="(isAuthorized$ | async) then isAuthorized; else isUnauthorized"></div>
    </div>
  </div>
  <div class="header_wrapper" fxLayout="column" fxLayoutAlign="none center">
    <h1 class="header_title">
      Знайдіть найкращі гуртки у своєму місті!
    </h1>
    <h2 class="header_descr">
      Понад 500 найрізноманітніших гуртків
    </h2>
    <div class="header_search">
      <app-city-filter class="header_city"></app-city-filter>
      <app-searchbar class="header_bar"></app-searchbar>
    </div>
  </div>
</div>

<ng-template #isUnauthorized>
  <div>
    <button mat-stroked-button class="header_login" (click)="login()">
      УВІЙТИ/ЗАРЕЄСТРУВАТИСЯ
    </button>
  </div>
</ng-template>

<ng-template #isAuthorized>
  <div class="authorization">
    <button mat-raised-button color="primary"
      matBadge="2" matBadgePosition="before" matBadgeColor="accent">
      <i>
        <mat-icon class="icon-message"> email</mat-icon>
      </i>
    </button>
      <button mat-button [matMenuTriggerFor]="log">
        <h1>{{userName$ | async}}</h1>
      </button>
      <mat-menu #log="matMenu">
        <button mat-menu-item><a [routerLink]="'./' + role +'/' + 'activities'">Гуртки</a></button>
        <button mat-menu-item><a [routerLink]="'./' + role+'/' + 'config'">Налаштування</a></button>
        <button mat-menu-item (click)="logout()">Вийти</button>
      </mat-menu>
  </div>
</ng-template>
