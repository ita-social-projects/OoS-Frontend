<div class="wrapper" fxLayout="column" fxLayoutAlign="center space-between">
  <label class="step-label">Підпорядкування</label>
  <mat-form-field floatLabel="never" appearance="none">
    <mat-select
      [formControl]="instituitionIdFormControl"
      disableOptionCentering
      panelClass="dropdown-panel"
      placeholder="Оберіть підпорядкування"
      class="step-input"
    >
      <mat-option *ngFor="let institution of institutions$ | async" [value]="institution.id" class="dropdown-option">
        {{ institution.title }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <app-validation-hint [validationFormControl]="instituitionIdFormControl" [isTouched]="instituitionIdFormControl.touched">
  </app-validation-hint>

  <ng-container *ngFor="let hierarchy of hierarchyArray">
    <ng-container *ngIf="hierarchy.shouldDisplay">
      <label class="step-label">{{ hierarchy.title }}</label>
      <mat-form-field floatLabel="never" appearance="none">
        <mat-select
          [formControl]="hierarchy.formControl"
          disableOptionCentering
          panelClass="dropdown-panel"
          class="step-input"
          (selectionChange)="onHierarchyLevelSelect($event.value, hierarchy)"
        >
          <mat-option *ngFor="let option of hierarchy.options" [value]="option.id" class="dropdown-option">
            {{ option.title }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <app-validation-hint [validationFormControl]="hierarchy.formControl" [isTouched]="hierarchy.formControl.touched">
      </app-validation-hint>
    </ng-container>
  </ng-container>
</div>
