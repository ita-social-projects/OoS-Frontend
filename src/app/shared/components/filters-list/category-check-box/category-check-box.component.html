<p class="filter-text">Напрямки</p>
<div class="search-bar" fxLayout='row' fxLayoutAlign='space-evenly'>
  <button mat-stroked-button>
    <mat-icon class="search-icon" style="transform: rotate(90deg)" (click)="onSearch()">
      search</mat-icon>
  </button>
  <mat-form-field floatLabel=never appearance="none">
    <input type="text" maxlength="200" [formControl]="categorySearch" class="search" matInput
      placeholder="Введіть назву категорії">
  </mat-form-field>
</div>
<div class="list-wrapper">
  <div *ngIf="(showAll) then AllCategories; else FilteredCategories"></div>
</div>
<ng-template #AllCategories>
  <ng-container *ngTemplateOutlet="Categories; context:{$implicit: allCategories}">
  </ng-container>
</ng-template>

<ng-template #FilteredCategories>
  <ng-container *ngTemplateOutlet="Categories; context:{$implicit:filteredCategories}">
  </ng-container>
</ng-template>

<ng-template #Categories let-categories>
  <li class=" list" *ngFor="let category of categories">
    <mat-checkbox color="primary" (change)="onCategoryCheck(category, $event )" [checked]="onSelectCheck(category)">
      {{category.title}}
    </mat-checkbox>
  </li>
</ng-template>