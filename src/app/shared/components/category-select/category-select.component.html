<form [formGroup]="CategoryFormGroup">
  <input  matInput  type="text" 
          placeholder="Почніть вводити напрямок або виберіть зі списку"  class="step-input"
          [formControl]="directionsFormControl"
          [matAutocomplete]="auto"
          disableOptionCentering 
  >
  <mat-autocomplete 
    #auto="matAutocomplete" 
    (optionSelected)="onSelectDirection($event.option.value)"
    [displayWith] = "optionDisplay">
    <mat-option *ngFor="let direction of filteredDirections$ | async" [value]="direction" class="dropdown-option">
      {{ direction.title }}
    </mat-option>
</mat-autocomplete>

  <app-validation-hint-for-input 
    type = "requiredField" 
    [invalid] = "CategoryFormGroup.get('directionId').invalid && CategoryFormGroup.get('directionId').touched">
  </app-validation-hint-for-input>

  <input  matInput  type="text" 
          placeholder="Почніть вводити відділ або виберіть зі списку"  class="step-input"
          [formControl]="departmentsFormControl"
          [matAutocomplete]="auto"
          disableOptionCentering panelClass="dropdown-panel"
  >
  <mat-autocomplete 
    #auto="matAutocomplete" 
    (optionSelected)="onSelectDepartment($event.option.value)"
    [displayWith] = "optionDisplay">
    <mat-option *ngFor="let department of filteredDepartments$ | async" [value]="department" class="dropdown-option">
      {{ department.title }}
    </mat-option>
</mat-autocomplete>
<!-- 

  <mat-select *ngIf="(departments$ | async)?.length" disableOptionCentering panelClass="dropdown-panel"
    class="step-input" formControlName="departmentId" (selectionChange)="onSelectDepartment($event.value)"
    placeholder="Відділ" [(value)]="selectedDepartmentId">
    <mat-option *ngFor="let department of departments$ | async" [value]="department.id" class="dropdown-option">
      {{ department.title }}
    </mat-option>
  </mat-select> -->

  <mat-select *ngIf="(classes$ | async)?.length" disableOptionCentering panelClass="dropdown-panel" class="step-input"
    formControlName="classId" placeholder="Клас" [(value)]="selectedClassId">
    <mat-option *ngFor="let class of classes$ | async" [value]="class.id" class="dropdown-option">
      {{ class.title }}
    </mat-option>
  </mat-select>
</form>