<form [formGroup]="CategoryFormGroup" class="wrapper" fxLayout='column' fxLayoutAlign='center space-between'>
  <label class="step-label"> Напрямок за яким здійснюється навчання <span class="step-required">*</span></label>
  <input matInput type="text" placeholder="Почніть вводити напрямок або виберіть зі списку" class="step-input"
    [formControl]="directionsFormControl" [matAutocomplete]="auto" disableOptionCentering
    (click)="getFullDirectionList()">
  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onSelectDirection($event.option.value)"
    [displayWith]="optionDisplayDirection">
    <mat-option *ngFor="let direction of filteredDirections" [value]="direction" class="dropdown-option">
      {{ direction.title }}
    </mat-option>
  </mat-autocomplete>

  <app-validation-hint-for-input type="requiredField"
    [invalid]="CategoryFormGroup.get('directionId').invalid && CategoryFormGroup.get('directionId').touched">
  </app-validation-hint-for-input>

  <ng-container *ngIf="(departments$ | async)?.length">
    <label class="step-label"> Відділ <span class="step-required">*</span></label>
    <input matInput type="text" placeholder="Почніть вводити відділ або виберіть зі списку" class="step-input"
      [formControl]="departmentsFormControl" [matAutocomplete]="autoDepartment" disableOptionCentering
      panelClass="dropdown-panel" (click)="getFullDepartmentList()">
    <mat-autocomplete #autoDepartment="matAutocomplete" (optionSelected)="onSelectDepartment($event.option.value)"
      [displayWith]="optionDisplayDepartment">
      <mat-option *ngFor="let department of filteredDepartments" [value]="department" class="dropdown-option">
        {{ department.title }}
      </mat-option>
    </mat-autocomplete>
    <app-validation-hint-for-input type="requiredField"
      [invalid]="CategoryFormGroup.get('departmentId').invalid && CategoryFormGroup.get('departmentId').touched">
    </app-validation-hint-for-input>
  </ng-container>

  <ng-container *ngIf="(classes$ | async)?.length">
    <label class="step-label"> Клас <span class="step-required">*</span></label>
    <input matInput type="text" placeholder="Почніть вводити клас або виберіть зі списку" class="step-input"
      [formControl]="classesFormControl" [matAutocomplete]="autoClasses" disableOptionCentering
      panelClass="dropdown-panel" (click)="getFullClassList()">
    <mat-autocomplete #autoClasses="matAutocomplete" (optionSelected)="onSelectClasses($event.option.value)"
      [displayWith]="optionDisplayClass">
      <mat-option *ngFor="let classItem of filteredClasses" [value]="classItem" class="dropdown-option">
        {{ classItem.title }}
      </mat-option>
    </mat-autocomplete>
    <app-validation-hint-for-input type="requiredField"
      [invalid]="CategoryFormGroup.get('classId').invalid && CategoryFormGroup.get('classId').touched">
    </app-validation-hint-for-input>
  </ng-container>

</form>