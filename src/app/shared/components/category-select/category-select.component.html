<form [formGroup]="CategoryFormGroup">
  <input  matInput  type="text" 
          placeholder="Почніть вводити напрямок або виберіть зі списку"  class="step-input "
          formControlName="directionId"  
          [matAutocomplete]="auto"
          disableOptionCentering 
  >
  <mat-autocomplete 
    #auto="matAutocomplete" 
    (selectionChange)='onSelectDirection($event.value)'>
    <mat-option *ngFor="let direction of directions$ | async" 
        [value]="direction.title"  
        class="dropdown-option">
        {{ direction.title }}
    </mat-option>
  </mat-autocomplete>
  <!-- <mat-select class="step-input" disableOptionCentering panelClass="dropdown-panel" formControlName="directionId"
    (selectionChange)="onSelectDirection($event.value)" placeholder="Напрямок" [(value)]="selectedDirectionId">
    <mat-option *ngFor="let direction of directions$ | async" [value]="direction.id" class="dropdown-option">
      {{ direction.title }}
    </mat-option>
  </mat-select> -->
  <app-validation-hint-for-input 
    type = "requiredField" 
    [invalid] = "CategoryFormGroup.get('directionId').invalid && CategoryFormGroup.get('directionId').touched"
  ></app-validation-hint-for-input>

  <mat-select *ngIf="(departments$ | async)?.length" disableOptionCentering panelClass="dropdown-panel"
    class="step-input" formControlName="departmentId" (selectionChange)="onSelectDepartment($event.value)"
    placeholder="Відділ" [(value)]="selectedDepartmentId">
    <mat-option *ngFor="let department of departments$ | async" [value]="department.id" class="dropdown-option">
      {{ department.title }}
    </mat-option>
  </mat-select>

  <mat-select *ngIf="(classes$ | async)?.length" disableOptionCentering panelClass="dropdown-panel" class="step-input"
    formControlName="classId" placeholder="Клас" [(value)]="selectedClassId">
    <mat-option *ngFor="let class of classes$ | async" [value]="class.id" class="dropdown-option">
      {{ class.title }}
    </mat-option>
  </mat-select>
</form>