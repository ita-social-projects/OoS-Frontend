<button mat-icon-button [matMenuTriggerFor]="menu" (click)="getNotifications()" class="pointer">
  <mat-icon>notifications_none</mat-icon>
</button>
<span *ngIf="notificationsAmount$ | async">
  <mat-icon [matBadge]="notificationsAmount" matBadgePosition="before"></mat-icon>
</span>
<mat-menu #menu="matMenu">
  <div class="container">
    <h3 class="title">СПОВІЩЕННЯ</h3>
    <ng-conatiner *ngIf="notificationsAmount then Notifications; else isEmptyList">
    </ng-conatiner>
  </div>
</mat-menu>

<ng-template #isEmptyList>
  <span fxLayout="row wrap" fxLayoutAlign="start start">У вас немає нових повідомлень</span>
</ng-template>

<ng-template #Notifications>
  <ng-container *ngIf="notificationsData$ | async as notificationsData">
    <ng-container *ngIf="notificationsData.notificationsGrouped.length">
      <span *ngFor="let notifications of notificationsData.notificationsGrouped" fxLayout="row wrap"
        fxLayoutAlign="space-between center">
        У вас {{notifications.amount}} нових заявок<mat-icon class="icon" (click)="onReadGroup(notifications)">
          arrow_forward</mat-icon>
      </span>
    </ng-container>
    <ng-container *ngIf="notificationsData.notifications.length">
      <div *ngFor="let notification of notificationsData.notifications">
        <span fxLayout="row wrap" fxLayoutAlign="space-between center">{{notification.text}}<mat-icon class="icon"
            (click)="onReadSingle(notification)">
            delete
          </mat-icon></span>
      </div>
    </ng-container>
  </ng-container>
</ng-template>