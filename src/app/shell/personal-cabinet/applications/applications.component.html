<div class="container" *ngIf="(user.role === Role.provider) then isProvider; else isParent"></div>
<ng-template #isParent>
  Заявое поки немає
</ng-template>
<ng-template #isProvider>
  <div class="container" *ngIf="(applications$ | async)?.length then isApplications; else isEmptyList"></div>

  <ng-template #isApplications>
    <mat-tab-group mat-align-tabs="start">
      <mat-tab label="Усі">
        <ng-container
          *ngTemplateOutlet="Applications; context:{$implicit: applications | applicationSort : applicationStatus.pending : 'date' }">
        </ng-container>
      </mat-tab>
      <mat-tab label="Очікують підтвердження">
        <ng-container
          *ngTemplateOutlet="Applications; context:{$implicit: applications | applicationFilter : applicationStatus.pending }">
        </ng-container>
      </mat-tab>
      <mat-tab label="Підтвердженні">
        <ng-container
          *ngTemplateOutlet="Applications; context:{$implicit: applications | applicationFilter : applicationStatus.approved }">
        </ng-container>
      </mat-tab>
      <mat-tab label="Відхилені">
        <ng-container
          *ngTemplateOutlet="Applications; context:{$implicit: applications | applicationFilter : applicationStatus.rejected }">
        </ng-container>
      </mat-tab>
    </mat-tab-group>
  </ng-template>
  <ng-template #isEmptyList>
    Заявок поки немає
  </ng-template>
</ng-template>


<ng-template #Applications let-applications>
  <app-application-card *ngFor="let application of applications" [application]="application"
    (approved)="onApprove($event)" (rejected)="onReject($event)" (infoShow)="onInfoShow($event)"
    (infoHide)="onInfoHide()">
  </app-application-card>
</ng-template>

<ng-template appInfoBoxHost></ng-template>