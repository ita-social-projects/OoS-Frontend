<div class="container" *ngIf="provider">
  <app-actions *ngIf="isMobileScreen && displayActionCard" [role]="role" [workshop]="workshop"> </app-actions>
  <app-image-carousel [images]="images"></app-image-carousel>

  <div class="details-wrapper">
    <div fxLayout="column" fxLayoutAlign="space-between space-between" fxLayoutGap="1rem">
      <div fxLayout="row" fxLayoutAlign="space-between center">
        <div fxLayout="row" fxLayout.lt-sm="row wrap" fxLayoutAlign="start center">
          <h1 class="title">{{ workshop.title }}</h1>
          <ng-container *ngIf="workshopStatusOpen; else ClosedWorkshopStatus">
            <div class="chip chip-color-open">{{ recruitmentStatusEnum.RecruitmentOngoing | translate }}</div>
          </ng-container>
        </div>
        <div *ngFor="let direction of workshop.directions">
          <img class="details-icon" [src]="categoryIcons[direction.id]" alt="{{ workshop.title }}" />
        </div>
      </div>
      <span class="icon-text">
        <mat-icon class="icon">star</mat-icon>
        {{ workshop.rating }}
      </span>
      <div fxLayout="row" fxLayoutAlign="start center">
        <a [routerLink]="['/details/provider', workshop.providerId]">
          <span class="icon-text details-link"> <mat-icon class="icon">home</mat-icon>{{ workshop.providerTitle }} </span>
        </a>
      </div>
    </div>

    <mat-tab-group class="nav" [(selectedIndex)]="selectedIndex" (selectedTabChange)="onTabChange($event)">
      <mat-tab class="label" label="{{ workshopTitles.AboutWorkshop | translate | uppercase }}">
        <app-workshop-about [workshop]="workshop"></app-workshop-about>
      </mat-tab>
      <mat-tab class="label" label="{{ workshopTitles.AboutProvider | translate | uppercase }}">
        <app-provider-about [provider]="provider"></app-provider-about>
      </mat-tab>
      <mat-tab class="label" label="{{ workshopTitles.Teachers | translate | uppercase }}">
        <app-workshop-teachers [teachers]="workshop.teachers"></app-workshop-teachers>
      </mat-tab>
      <mat-tab class="label" label="{{ workshopTitles.OtherWorkshops | translate | uppercase }}">
        <app-all-provider-workshops [workshop]="workshop" (onGetWorkshops)="getWorkshops()"> </app-all-provider-workshops>
      </mat-tab>
      <mat-tab class="label" label="{{ workshopTitles.Reviews | translate | uppercase }}">
        <app-reviews [workshop]="workshop" [role]="role"> </app-reviews>
      </mat-tab>
      <mat-tab class="label" label="{{ workshopTitles.Achievements | translate | uppercase }}">
        <app-achievements [workshop]="workshop"></app-achievements>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
<ng-template #ClosedWorkshopStatus>
  <div class="chip chip-color-close">{{ recruitmentStatusEnum.RecruitmentStoped | translate }}</div>
</ng-template>
