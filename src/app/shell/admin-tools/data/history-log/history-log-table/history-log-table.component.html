<div class="wrapper">
  <div [hidden]="!dataSource" class="table-container mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort appStretchTable>

      <!-- Name Column -->
      <ng-container matColumnDef="pib">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ПІБ що внесла зміни</th>
        <td mat-cell *matCellDef="let element">
          {{ util.getFullName(element?.user) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Емейл</th>
        <td mat-cell *matCellDef="let element">{{ element.user?.email }}</td>
      </ng-container>

      <ng-container matColumnDef="providerTitle">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Назва</th>
        <td mat-cell *matCellDef="let element">{{ element?.providerTitle | emptyValueTransform }}</td>
      </ng-container>

      <ng-container matColumnDef="institutionTitle">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Підпорядкування</th>
        <td mat-cell *matCellDef="let element">
          {{ element?.institutionTitle | emptyValueTransform }}
        </td>
      </ng-container>

      <ng-container matColumnDef="providerCity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Населений пункт</th>
        <td mat-cell *matCellDef="let element">{{ element?.providerCity | emptyValueTransform }}</td>
      </ng-container>
      <ng-container matColumnDef="fieldName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Тип</th>
        <td mat-cell *matCellDef="let element">
          {{ typeChange[element?.fieldName] | emptyValueTransform }}
        </td>
      </ng-container>

      <ng-container matColumnDef="updatedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Дата/час</th>
        <td mat-cell *matCellDef="let element">
          {{ element?.updatedDate | date: SHORT_DATE_FORMAT | emptyValueTransform }}
        </td>
      </ng-container>

      <ng-container matColumnDef="oldValue">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Було</th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngClass]="{ 'application-status': tableTitle === 'Application' }"
          class="{{ element.oldValue }}"
        >
          {{ (tableTitle === 'Application' ? statusTitles[element?.oldValue] : element?.oldValue) | translate | emptyValueTransform }}
        </td>
      </ng-container>

      <ng-container matColumnDef="newValue">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Стало</th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngClass]="{ 'application-status': tableTitle === 'Application' }"
          class="{{ element.newValue }}"
        >
          {{ (tableTitle === 'Application' ? statusTitles[element?.newValue] : element?.newValue) | translate | emptyValueTransform }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
