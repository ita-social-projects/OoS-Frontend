<div class="create-form">
  <div class="wrapper">

    <div class="create-form-header" fxLayout="column" fxLayoutAlign="center center">
      <h3 class="wrapper-title">{{(editMode) ? 'РЕДАГУВАТИ' : 'ДОДАТИ'}} НАПРЯМОК</h3>
    </div>

    <mat-horizontal-stepper #stepper [linear]="!editMode">

      <mat-step>
        <ng-template matStepLabel>
          <p class="step-name">Напрямок</p>
        </ng-template>
        <app-add-direction-form></app-add-direction-form>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>
          <p class="step-name">Відділення</p>
        </ng-template>

        <ng-container *ngTemplateOutlet="headerTemplate"></ng-container>
        <ng-container *ngIf="direction">
          <app-add-department-form [direction]="direction"></app-add-department-form>
        </ng-container>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>
          <p class="step-name">Клас</p>
        </ng-template>
        
      <ng-container *ngTemplateOutlet="headerTemplate"></ng-container>
      <ng-container *ngIf="department">
        <app-add-class-form [department]="department" [classFormArray]="ClassFormArray"></app-add-class-form>
      </ng-container>

        <div fxLayout="row" fxLayoutAlign="center center" class="footer">
          <button *ngIf="editMode" class="btn" mat-raised-button matStepperPrevious (click)="onStepBack()">Назад</button>
          <a [routerLink]="'/admin-tools/platform/directions'"><button mat-raised-button
              class="btn btn-cancel">Скасувати</button></a>
          <button class="btn" mat-raised-button (click)="onSubmit()">Зберігти</button>
        </div>
      </mat-step>

    </mat-horizontal-stepper>
  </div>
</div>

<ng-template #headerTemplate>
  <div class="step">
    <h3 *ngIf="direction">Назва напрямку: {{direction.title}}</h3>
    <h3 *ngIf="department">Назва відділення: {{department.title}}</h3>
  </div>
</ng-template>