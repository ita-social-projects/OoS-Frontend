<div class="wrapper" fxLayout="row" fxLayoutAlign="space-evenly">
    <div fxLayout="column" fxLayoutAlign="space-evenly">
      <div fxLayout='column wrap' fxLayoutAlign='space-evenly' #WorkshopsWrap>
        <app-workshop-card class="workshop" [parent]="isParent$ | async" *ngFor="let workshop of selectedWorkshops"
          [workshop]="workshop" [isMainPage]="true" #WorkshopsWrap>
        </app-workshop-card>
      </div>
      <app-paginator [totalEntities]="selectedWorkshops.length" [currentPage]="currentPage"
        (pageChange)="onPageChange($event)">
      </app-paginator>
    </div>

  <div [ngClass]="selectedWorkshops.length ? 'map-half' : 'map-full'">
    <div fxLayout="row" fxLayoutAlign="center">
      <app-map class="map" [filteredWorkshops$]="filteredWorkshops$" (selectedAddress)="onSelectedAddress($event)"></app-map>
    </div>
  </div>

  <div
    *ngIf="isSelectedMarker"
    #CurSelectedWorkshop
    class="workshop-details-cards"
    fxLayout='row'
    (touchstart)="swipe($event, 'start')"
    (touchend)="swipe($event, 'end')"
  >
      <button
        class="mapCardButton"
        [ngClass]="(currentWorkShopIndex >= 1) ? 'display' : ''"
        (click)="onClickScroll()"
      ><mat-icon>keyboard_arrow_left</mat-icon></button>
      <app-workshop-card class="workshop-details-card"
        [workshop]="selectedWorkshops[currentWorkShopIndex]" [isMainPage]="true" [isHorizontalView]="true"
        [@fade]="workshopDetailsAnimationState" (@fade.done)="fadeAnimationDone()">
      </app-workshop-card>
      <button
        class="mapCardButton"
        [ngClass]="(selectedWorkshopsLength-1 > currentWorkShopIndex) ? 'display' : ''"
        (click)="onClickScroll('next')"
      ><mat-icon>keyboard_arrow_right</mat-icon></button>
  </div>
