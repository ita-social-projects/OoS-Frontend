# web app
location / {
  add_header        Cache-Control "no-store, no-cache, public, must-revalidate, proxy-revalidate, max-age=0";
  add_header        Pragma "no-cache";
  etag              off;
  if_modified_since off;
  expires           -1;
}

location ~* \.(?:css|js|json)$ {
  add_header        Cache-Control "no-store, no-cache, public, must-revalidate, proxy-revalidate, max-age=0";
  add_header        Pragma "no-cache";
  etag              off;
  if_modified_since off;
  expires           -1;
}

location ~* \.(?:jpg|jpeg|gif|png|ico|xml|webp)$ {
  # TODO: Static images won't chage frequently, maybe make it a couple of hours?
  expires           30m;
  add_header        Cache-Control "public";
}

location ~* \.(?:eot|woff|woff2|ttf|svg|otf) {
  # TODO: Static fonts won't chage frequently, maybe make it a couple of hours?
  expires           5m;
  add_header        Cache-Control "public";

  # TODO: Allow CORS requests for fonts?
  add_header        Access-Control-Allow-Origin *;

  types     {font/opentype otf;}
  types     {application/vnd.ms-fontobject eot;}
  types     {font/truetype ttf;}
  types     {application/font-woff woff;}
  types     {font/x-woff woff2;}
  types     {image/svg+xml svg svgz;}
}